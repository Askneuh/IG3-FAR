@startuml
actor Client
participant "Serveur Principal" as Server
participant "Socket TCP Serveur" as SocketServer

Client -> Server : Demande d'upload
activate Client
activate Server

Server -> Server : Création de socket TCP (SocketServer)
Server -> Server : Génère un port pour transfert
Server -> Client : Envoie du port à utiliser
deactivate Server

Client -> SocketServer : Connexion au port reçu
activate SocketServer

SocketServer -> Client : Accepte la connexion

Client -> SocketServer : Envoie du fichier
SocketServer -> SocketServer : Reçoit et stocke le fichier

deactivate Client
deactivate SocketServer
@enduml
